{"version":3,"file":"siema.service.js","sourceRoot":"","sources":["../src/ngx-siema/siema.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Observable, BehaviorSubject, ReplaySubject } from 'rxjs';\r\nimport { publish, refCount } from 'rxjs/operators';\r\n\r\nconst next$ = new ReplaySubject(1);\r\nconst prev$ = new ReplaySubject(1);\r\nconst goTo$ = new ReplaySubject(1);\r\nconst remove$ = new ReplaySubject(1);\r\nconst insert$ = new ReplaySubject(1);\r\nconst prepend$ = new ReplaySubject(1);\r\nconst append$ = new ReplaySubject(1);\r\nconst destroy$ = new ReplaySubject(1);\r\nconst currentSlide$ = new ReplaySubject(1);\r\n\r\n@Injectable()\r\nexport class NgxSiemaService {\r\n\r\n  next(numbers: number = 1, selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    next$.next({ selector, numbers, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  prev(numbers: number = 1, selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    prev$.next({ selector, numbers, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  goTo(index: number, selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    goTo$.next({ selector, index, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  remove(index: number, selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    remove$.next({ selector, index, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  insert(item: any, index: number, selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    insert$.next({ selector, item, index, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  prepend(item: any, selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    prepend$.next({ selector, item, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  append(item: any, selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    append$.next({ selector, item, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  destroy(restoreMarkup: boolean = false, selector?: string): Observable<{ selector: string }> {\r\n    const listener = new BehaviorSubject<{ selector: string }>(null);\r\n    destroy$.next({ selector, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  currentSlide(selector?: string): Observable<{ selector: string, currentSlide: number }> {\r\n    const listener = new BehaviorSubject<{ selector: string, currentSlide: number }>(null);\r\n    currentSlide$.next({ selector, listener });\r\n    return listener.asObservable();\r\n  }\r\n\r\n  onNext(): Observable<{ selector: string, numbers: number }> {\r\n    return next$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onPrev(): Observable<{ selector: string, numbers: number }> {\r\n    return prev$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onGoTo(): Observable<{ selector: string, index: number }> {\r\n    return goTo$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onRemove(): Observable<{ selector: string, index: number }> {\r\n    return remove$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onInsert(): Observable<{ selector: string, item: any, index: number }> {\r\n    return insert$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onPrepend(): Observable<{ selector: string, item: any }> {\r\n    return prepend$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onAppend(): Observable<{ selector: string, item: any }> {\r\n    return append$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onDestroy(): Observable<{ selector: string }> {\r\n    return destroy$.pipe(publish(), refCount());\r\n  }\r\n\r\n  onCurrentSlide(): Observable<{ selector: string }> {\r\n    return currentSlide$.pipe(publish(), refCount());\r\n  }\r\n}\r\n"]}